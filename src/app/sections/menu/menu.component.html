<div class="menu"
     [class.dark]="darkMode">
  <div class="container">
    <div class="row">
      <div class="col-12 d-flex justify-content-between menu-button-wrapper">
        <div class="d-flex align-items-center">
          <div class="menu-button"
               [routerLink]="'/landing'"
               [class.active]="router.url.includes( 'landing' )">
            home
          </div>

          <div class="menu-button"
               [matMenuTriggerFor]="chapters">
            chapters
          </div>
          <ng-container *ngIf="router.url.includes('chapter')">
            <span class="chapter-count">{{ router.url.split('chapter')[1] }}</span>
          </ng-container>

          <mat-menu #chapters='matMenu'
                    [class]="darkMode ? 'dark' : ''">
            <div *ngFor="let page of pages; index as i">
              <div *ngIf="page?.uid?.includes('chapter')"
                   mat-menu-item
                   routerLink="/{{page?.uid}}">
                chapter {{i+1}}
              </div>
            </div>
          </mat-menu>

          <div class="menu-button"
               [innerHTML]="!darkMode ? 'darkmode' : 'lightmode'"
               (click)="switchMode()">
          </div>
        </div>

        <div class="d-flex align-items-center">
          <button mat-ripple
                  class="icon-button transparent-bg"
                  [class.light]="darkMode"
                  [matMenuTriggerFor]="settingsMenu">
            <fa-icon [icon]="faCog"></fa-icon>
          </button>

          <mat-menu #settingsMenu='matMenu'
                    [class]="darkMode ? 'dark' : ''">
            <ng-container *ngFor="let setting of settingsLength; index as i">
              <div mat-menu-item (click)="$event.stopPropagation()">
                <mat-slide-toggle>{{ settings[settingsLength[i]].label }}</mat-slide-toggle>
              </div>
            </ng-container>
          </mat-menu>
        </div>
      </div>
    </div>
  </div>

</div>
